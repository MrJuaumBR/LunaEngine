<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ui Comprehensive Demo - LunaEngine Examples</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css" rel="stylesheet">
    <link href="../theme.css" rel="stylesheet">
</head>
<body>
    
    <nav class="navbar navbar-expand-lg navbar-light sticky-top">
        <div class="container">
            <a class="navbar-brand fw-bold" href="../index.html" id="navbar-logo-link">
                <i class="bi bi-moon-stars-fill me-2"></i>
                LunaEngine
            </a>
            <div class="d-flex align-items-center">
                <div class="input-group me-3">
                    <input type="text" id="moduleSearch" class="form-control" placeholder="Search functions, classes, methods...">
                    <span class="input-group-text" id="searchIcon"><i class="bi bi-search"></i></span>
                </div>
                
                <button class="btn btn-outline-secondary theme-toggle">
                    <span class="theme-icon">ðŸŒ™</span>
                </button>
            </div>
        </div>
    </nav>
    
    <div class="container mt-5">
        <nav aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../index.html">Home</a></li><li class="breadcrumb-item"><a href="index.html">Examples Hub</a></li><li class="breadcrumb-item active">Ui Comprehensive Demo</li></ol></nav>
        
        <div class="row">
            <div class="col-lg-8">
                <h1 class="mb-3"><i class="bi bi-code-slash me-2"></i>Ui Comprehensive Demo</h1>
                <div class="card mb-4 shadow-sm">
                    <div class="card-header bg-primary text-white">
                        <h5 class="mb-0"><i class="bi bi-file-earmark-code me-2"></i>ui_comprehensive_demo.py</h5>
                    </div>
                    <div class="card-body">
                        <pre><code class="language-python">&quot;&quot;&quot;
ui_comprehensive_demo.py - Comprehensive UI Elements Demo for LunaEngine

ENGINE PATH:
lunaengine -&gt; examples -&gt; ui_comprehensive_demo.py

DESCRIPTION:
This demo showcases all available UI elements in the LunaEngine system.
All elements are organized in tabs by functional sections.
&quot;&quot;&quot;

import sys
import os
sys.path.append(os.path.join(os.path.dirname(__file__), &#x27;..&#x27;))

from lunaengine.ui import *
from lunaengine.core import LunaEngine, Scene
from lunaengine.ui.tween import Tween, EasingType, AnimationHandler
from lunaengine.misc import icons  # Import the icons module
from lunaengine.backend import *


class ComprehensiveUIDemo(Scene):
    def __init__(self, engine: LunaEngine):
        super().__init__(engine)
        self.demo_state = {
            &#x27;button_clicks&#x27;: 0,
            &#x27;slider_value&#x27;: 50,
            &#x27;dropdown_selection&#x27;: &#x27;Option 1&#x27;,
            &#x27;text_input&#x27;: &#x27;Type here...&#x27;,
            &#x27;progress_value&#x27;: 0,
            &#x27;switch_state&#x27;: False,
            &#x27;select_index&#x27;: 0,
            &#x27;dialog_active&#x27;: False,
            &#x27;number_selector_value&#x27;: 10,
            &#x27;checkbox_state&#x27;: True,
            &#x27;text_area_content&#x27;: &quot;This is a multi-line text area.\nYou can type here...\nIt supports line numbers and word wrapping.\nTry editing this text!&quot;,
            &#x27;file_finder_path&#x27;: &quot;C:/example.txt&quot;,
            &#x27;current_page&#x27;: 1,
        }
        self.animations = {}
        
        self.last_controller_count = 0
        self.controller_dropdown = None
        self.controller_info_labels = {}
        self.left_stick_indicator = None
        self.right_stick_indicator = None
        self.dpad_indicator = None
        self.button_indicators = {}  # for some key buttons
        self.selected_controller_idx = None
        
        self.setup_ui()
        
    def on_enter(self, previous_scene: str = None):
        print(&quot;=== LunaEngine UI Demo ===&quot;)
        print(&quot;Explore all UI elements organized by section!&quot;)
        print(&quot;Use the tabs to navigate between different UI element categories.&quot;)
        print(&quot;Controls:&quot;)
        print(&quot;- Click buttons to interact&quot;)
        print(&quot;- Use dropdowns and selects to choose options&quot;)
        print(&quot;- Drag the draggable element&quot;)
        print(&quot;- Type in the text box&quot;)
        print(&quot;- Change themes with the theme dropdown&quot;)
        print(&quot;- Hover over elements with tooltips&quot;)
        print(&quot;- Click to advance dialog boxes&quot;)
        print(&quot;- Use animation controls to pause/resume animations&quot;)
        
    def on_exit(self, next_scene: str = None):
        print(&quot;Exiting UI Demo scene&quot;)
        # Clean up animations
        self.animation_handler.cancel_all()
        
    def setup_ui(self):
        &quot;&quot;&quot;Sets up all UI elements organized in tabs by section.&quot;&quot;&quot;
        self.engine.set_global_theme(ThemeType.DEFAULT)
        
        # --- TITLE ---
        title = TextLabel(512, 30, &quot;LunaEngine - UI Demo&quot;, 36, root_point=(0.5, 0))
        self.add_ui_element(title)
        
        # --- MAIN TAB CONTAINER ---
        self.main_tabs = Tabination(25, 90, 980, 650, 20)
        
        # --- SECTION 1: Interactive Elements ---
        self.main_tabs.add_tab(&#x27;Interactive&#x27;)
        self.setup_interactive_tab()
        
        # --- SECTION 2: Selection Elements ---
        self.main_tabs.add_tab(&#x27;Selection&#x27;)
        self.setup_selection_tab()
        
        # --- SECTION 3: Visual Elements ---
        self.main_tabs.add_tab(&#x27;Visual&#x27;)
        self.setup_visual_tab()
        
        # --- SECTION 4: Advanced Elements ---
        self.main_tabs.add_tab(&#x27;Advanced&#x27;)
        self.setup_advanced_tab()
        
        # --- SECTION 5: Animation Examples ---
        self.main_tabs.add_tab(&#x27;Animation&#x27;)
        self.setup_animation_tab()
        
        # --- SECTION 6: Icons Gallery ---
        self.main_tabs.add_tab(&#x27;Icons&#x27;)
        self.setup_icons_tab()
        
        # --- SECTION 7: Notifications ---
        self.main_tabs.add_tab(&#x27;Notifications&#x27;)
        self.setup_notification_tab()
        
        # --- SECTION 8: Charts ---
        self.main_tabs.add_tab(&#x27;Charts&#x27;)
        self.setup_charts_tab()
        
        # --- SECTION 9: Controller ---
        self.main_tabs.add_tab(&#x27;Controller&#x27;)
        self.setup_controller_tab()

        
        
        # Add the main tabs container to the scene
        self.add_ui_element(self.main_tabs)
        
        # --- GLOBAL ELEMENTS (outside tabs) ---
        self.dialog_box = DialogBox(120, 300, 400, 150, style=&quot;modern&quot;)
        self.dialog_box.visible = False
        self.dialog_box.set_on_advance(lambda: self.hide_dialog())
        self.dialog_box.z_index = 100
        self.add_ui_element(self.dialog_box)
        
        self.fps_display = TextLabel(self.engine.width - 5, 20, &quot;FPS: --&quot;, 16, (100, 255, 100), root_point=(1, 0))
        self.add_ui_element(self.fps_display)
        
        # Initialize animations
        self.setup_animations()
        self.main_tabs.set_corner_radius((10, 10, 10, 10))

    def setup_icons_tab(self):
        &quot;&quot;&quot;Sets up the icons gallery tab.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, TextLabel(10, 10, &quot;Icons Gallery&quot;, 24, (255, 255, 0)))
        
        # Description
        desc = TextLabel(10, 45, &quot;All available icons in LunaEngine (from icons.py):&quot;, 14, (200, 200, 200))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, desc)
        
        # Icon size selector
        size_label = TextLabel(10, 75, &quot;Icon Size:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, size_label)
        
        self.icon_size_selector = NumberSelector(100, 70, 80, 25, 16, 96, 32, step=8)
        self.icon_size_selector.on_value_changed = lambda v: self.update_icons_size(v)
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, self.icon_size_selector)
        
        size_text = TextLabel(190, 75, &quot;pixels&quot;, 14, (150, 150, 150))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, size_text)
        
        # Background color toggle
        bg_toggle = Checkbox(250, 70, 150, 25, True, &quot;Show Background&quot;)
        bg_toggle.set_on_toggle(lambda s: self.toggle_icons_background(s))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, bg_toggle)
        
        # Scrolling frame for icons
        self.icons_scroll = ScrollingFrame(10, 110, 960, 480, 950, 1500)
        self.icons_scroll.set_simple_tooltip(&quot;Scroll to see all available icons&quot;)
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, self.icons_scroll)
        
        # Get all icons
        self.all_icons = icons.get_all_icons(32)
        self.icon_elements = []
        
        # Add icons to the scrolling frame in a grid
        self.update_icons_display()
    
    def update_icons_display(self):
        &quot;&quot;&quot;Updates the icons display with current size and settings.&quot;&quot;&quot;
        # Clear existing icon elements
        for element in self.icon_elements:
            self.icons_scroll.remove_child(element)
        self.icon_elements.clear()
        
        # Get current icon size
        icon_size = self.icon_size_selector.value
        
        # Get updated icons with new size
        self.all_icons = icons.get_all_icons(icon_size)
        
        # Grid layout
        icons_per_row = 8
        spacing = 20
        icon_with_spacing = icon_size + spacing + 60  # Extra space for label
        
        x_offset = 20
        y_offset = 20
        
        # Add each icon with label
        for i, (icon_name, icon_surface) in enumerate(self.all_icons.items()):
            row = i // icons_per_row
            col = i % icons_per_row
            
            x = x_offset + col * icon_with_spacing
            y = y_offset + row * (icon_size + 40)  # Extra space for label
            
            
            frame_size = int(icon_size * 1.8)
            # Create container frame
            icon_frame = UiFrame(x, y, frame_size, frame_size)
            icon_frame.set_background_color((40, 40, 50, 150))
            icon_frame.set_border((80, 80, 100), 1)
            icon_frame.set_corner_radius(5)
            
            # Create ImageLabel element for the icon
            icon_img = ImageLabel(frame_size//2, frame_size//2 + 10, None, icon_size, icon_size, root_point=(0.5, 0.5))
            icon_img.set_image(icon_surface)
            
            # Create label for icon name
            label = TextLabel(frame_size//2, 5, 
                             icon_name, 12, (200, 200, 200), root_point=(0.5, 0))
            label.set_simple_tooltip(f&quot;Icon: {icon_name}&quot;)
            
            # Add to scrolling frame
            icon_frame.add_child(icon_img)
            icon_frame.add_child(label)
            self.icons_scroll.add_child(icon_frame)
            
            # Store references
            self.icon_elements.extend([icon_frame, icon_img, label])
        
        # Update total count display
        count_label = TextLabel(10, 600, f&quot;Total Icons: {len(self.all_icons)}&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, count_label)
        
        # Add icon usage example
        usage_label = TextLabel(400, 600, &quot;Usage: icons.get_icon(&#x27;icon_name&#x27;, size)&quot;, 14, (150, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, usage_label)
        
        # Example buttons using icons
        example_frame = UiFrame(600, 590, 350, 60)
        example_frame.set_background_color((40, 40, 60, 180))
        example_frame.set_border((80, 100, 150), 1)
        example_frame.set_corner_radius(8)
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, example_frame)
        
        example_label = TextLabel(610, 595, &quot;Icon Usage Examples:&quot;, 14, (220, 220, 255))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, example_label)
        
        # Example 1: Button with icon
        btn1 = Button(610, 615, 100, 30, &quot;Save&quot;)
        btn1_icon = ImageLabel(620, 620, None, 16, 16)
        btn1_icon.set_image(icons.get_icon(&#x27;save&#x27;, 16))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, btn1)
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, btn1_icon)
        
        # Example 2: Button with icon
        btn2 = Button(720, 615, 100, 30, &quot;Load&quot;)
        btn2_icon = ImageLabel(730, 620, None, 16, 16)
        btn2_icon.set_image(icons.get_icon(&#x27;load&#x27;, 16))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, btn2)
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, btn2_icon)
        
        # Example 3: Button with icon
        btn3 = Button(830, 615, 100, 30, &quot;Home&quot;)
        btn3_icon = ImageLabel(840, 620, None, 16, 16)
        btn3_icon.set_image(icons.get_icon(&#x27;home&#x27;, 16))
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, btn3)
        self.main_tabs.add_to_tab(&#x27;Icons&#x27;, btn3_icon)
    
    def update_icons_size(self, size: int):
        &quot;&quot;&quot;Updates all icons to new size.&quot;&quot;&quot;
        print(f&quot;Updating icons to size: {size}&quot;)
        self.update_icons_display()
    
    def toggle_icons_background(self, show: bool):
        &quot;&quot;&quot;Toggles the background for icon containers.&quot;&quot;&quot;
        for element in self.icon_elements:
            if isinstance(element, UiFrame):
                if show:
                    element.set_background_color((40, 40, 50, 150))
                    element.set_border((80, 80, 100), 1)
                else:
                    element.set_background_color((0, 0, 0, 0))
                    element.set_border((0, 0, 0, 0), 0)

    def setup_notification_tab(self):
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, TextLabel(10, 10, &quot;Notifications&quot;, 24, (255, 255, 0)))
        
        self.notification_type = Dropdown(20, 50, 200, 35, [&#x27;Success&#x27;, &#x27;Info&#x27;, &#x27;Warning&#x27;, &#x27;Error&#x27;])
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.notification_type)
        
        self.notification_position = Dropdown(235, 50, 200, 35, [&#x27;Top Left&#x27;, &#x27;Top Center&#x27;, &#x27;Top Right&#x27;, &#x27;Bottom Left&#x27;, &#x27;Bottom Center&#x27;, &#x27;Bottom Right&#x27;])
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.notification_position)
        
        self.notification_duration = NumberSelector(20, 100, 200, 35, 1, 5, 5)
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.notification_duration)
        
        self.show_close_button = Checkbox(20, 150, 80, 30, True, &quot;Show Close Button&quot;)
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.show_close_button)
        
        self.auto_close = Checkbox(220, 150, 80, 30, True, &quot;Auto Close&quot;)
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.auto_close)
        
        self.show_progress_bar = Checkbox(420, 150, 80, 30, True, &quot;Show Progress Bar&quot;)
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.show_progress_bar)
        
        self.notification_button = Button(20, 200, 200, 40, &quot;Show Notification&quot;)
        self.notification_button.set_on_click(self.show_notification)
        self.main_tabs.add_to_tab(&#x27;Notifications&#x27;, self.notification_button)
        
    def setup_charts_tab(self):
        &quot;&quot;&quot;Sets up the charts tab with various GraphicVisualizer examples.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, TextLabel(10, 10, &quot;Charts Gallery&quot;, 24, (255, 255, 0)))

        # Description
        desc = TextLabel(10, 45, &quot;Various chart types using GraphicVisualizer:&quot;, 14, (200, 200, 200))
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, desc)

        # Store references to charts for randomisation
        self.charts = []

        # Bar chart
        bar_label = TextLabel(20, 75, &quot;Bar Chart&quot;, 16, (100, 255, 100))
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, bar_label)
        bar_chart = ChartVisualizer(20, 100, 200, 150,
                                    data=[15, 30, 45, 25, 60, 35],
                                    labels=[&#x27;Jan&#x27;,&#x27;Feb&#x27;,&#x27;Mar&#x27;,&#x27;Apr&#x27;,&#x27;May&#x27;,&#x27;Jun&#x27;],
                                    chart_type=&#x27;bar&#x27;,
                                    title=&#x27;Monthly Sales&#x27;,
                                    show_labels=True,
                                    show_legend=False,
                                    colors=[(54,162,235)])
        bar_chart.set_simple_tooltip(&quot;Bar chart showing monthly data&quot;)
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, bar_chart)
        self.charts.append(bar_chart)

        # Pie chart
        pie_label = TextLabel(250, 75, &quot;Pie Chart&quot;, 16, (255, 200, 100))
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, pie_label)
        pie_chart = ChartVisualizer(250, 100, 200, 150,
                                    data=[30, 20, 25, 15, 10],
                                    labels=[&#x27;A&#x27;,&#x27;B&#x27;,&#x27;C&#x27;,&#x27;D&#x27;,&#x27;E&#x27;],
                                    chart_type=&#x27;pie&#x27;,
                                    title=&#x27;Distribution&#x27;,
                                    show_labels=True,
                                    show_legend=True)
        pie_chart.set_simple_tooltip(&quot;Pie chart with legend&quot;)
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, pie_chart)
        self.charts.append(pie_chart)

        # Line chart
        line_label = TextLabel(20, 270, &quot;Line Chart&quot;, 16, (100, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, line_label)
        line_chart = ChartVisualizer(20, 295, 200, 150,
                                    data=[10, 25, 15, 30, 20, 35],
                                    labels=[&#x27;Mon&#x27;,&#x27;Tue&#x27;,&#x27;Wed&#x27;,&#x27;Thu&#x27;,&#x27;Fri&#x27;,&#x27;Sat&#x27;],
                                    chart_type=&#x27;line&#x27;,
                                    title=&#x27;Weekly Trend&#x27;,
                                    show_labels=True,
                                    show_legend=False)
        line_chart.set_simple_tooltip(&quot;Line chart with points&quot;)
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, line_chart)
        self.charts.append(line_chart)

        # Scatter plot
        scatter_label = TextLabel(250, 270, &quot;Scatter Plot&quot;, 16, (255, 100, 255))
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, scatter_label)
        scatter_chart = ChartVisualizer(250, 295, 200, 150,
                                        data=[5, 12, 9, 15, 7, 20],
                                        labels=[&#x27;P1&#x27;,&#x27;P2&#x27;,&#x27;P3&#x27;,&#x27;P4&#x27;,&#x27;P5&#x27;,&#x27;P6&#x27;],
                                        chart_type=&#x27;scatter&#x27;,
                                        title=&#x27;Data Points&#x27;,
                                        show_labels=True,
                                        show_legend=False)
        scatter_chart.set_simple_tooltip(&quot;Scatter plot&quot;)
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, scatter_chart)
        self.charts.append(scatter_chart)

        # Additional note
        note = TextLabel(20, 470, &quot;You can create custom charts with your own data and colors.&quot;, 14, (150, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, note)

        # Randomize button
        randomize_btn = Button(20, 500, 150, 30, &quot;Randomize Charts&quot;)
        randomize_btn.set_on_click(self.randomize_charts)
        randomize_btn.set_simple_tooltip(&quot;Click to randomize all chart data with smooth animation&quot;)
        self.main_tabs.add_to_tab(&#x27;Charts&#x27;, randomize_btn)
        
    def setup_controller_tab(self):
        &quot;&quot;&quot;Build the UI elements for the Controller information tab.&quot;&quot;&quot;
        tab = &#x27;Controller&#x27;

        # Title
        self.main_tabs.add_to_tab(tab, TextLabel(10, 10, &quot;Controller Status&quot;, 24, (255, 255, 0)))

        # Dropdown to select controller (if multiple)
        self.controller_dropdown = Dropdown(10, 50, 300, 30, [&quot;No controller&quot;])
        self.controller_dropdown.set_on_selection_changed(self.on_controller_selected)
        self.controller_dropdown.set_simple_tooltip(&quot;Choose which controller to display&quot;)
        self.main_tabs.add_to_tab(tab, self.controller_dropdown)

        # Info frame
        info_frame = UiFrame(10, 100, 460, 150)
        info_frame.set_background_color((30, 30, 40, 200))
        info_frame.set_border((80, 80, 100), 1)
        self.main_tabs.add_to_tab(tab, info_frame)

        # Info labels (will be updated dynamically)
        self.controller_info_labels[&#x27;type&#x27;] = TextLabel(20, 10, &quot;Type: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;type&#x27;])
        self.controller_info_labels[&#x27;connection&#x27;] = TextLabel(20, 30, &quot;Connection: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;connection&#x27;])
        self.controller_info_labels[&#x27;touchpad&#x27;] = TextLabel(20, 50, &quot;Touchpad: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;touchpad&#x27;])
        self.controller_info_labels[&#x27;gyro&#x27;] = TextLabel(20, 70, &quot;Gyro: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;gyro&#x27;])
        self.controller_info_labels[&#x27;rumble&#x27;] = TextLabel(20, 90, &quot;Rumble: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;rumble&#x27;])

        # Right column of info
        self.controller_info_labels[&#x27;axes&#x27;] = TextLabel(250, 10, &quot;Axes: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;axes&#x27;])
        self.controller_info_labels[&#x27;buttons&#x27;] = TextLabel(250, 30, &quot;Buttons: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;buttons&#x27;])
        self.controller_info_labels[&#x27;hats&#x27;] = TextLabel(250, 50, &quot;Hats: --&quot;, 16, (200, 200, 200))
        info_frame.add_child(self.controller_info_labels[&#x27;hats&#x27;])

        # Joystick visualizations
        joy_label = TextLabel(10, 270, &quot;Joysticks:&quot;, 20, (200, 200, 255))
        self.main_tabs.add_to_tab(tab, joy_label)

        # Left stick
        left_frame = UiFrame(10, 310, 120, 120)
        left_frame.set_background_color((50, 50, 60))
        left_frame.set_border((100, 100, 150), 1)
        left_frame.set_corner_radius(5)
        self.main_tabs.add_to_tab(tab, left_frame)

        self.left_stick_indicator = UiFrame(60, 60, 10, 10, root_point=(0.5, 0.5))  # centered initially
        self.left_stick_indicator.set_background_color((255, 100, 100))
        self.left_stick_indicator.set_corner_radius(5)
        left_frame.add_child(self.left_stick_indicator)

        left_label = TextLabel(10, 435, &quot;Left Stick&quot;, 14, (180, 180, 180))
        self.main_tabs.add_to_tab(tab, left_label)

        # Right stick
        right_frame = UiFrame(150, 310, 120, 120)
        right_frame.set_background_color((50, 50, 60))
        right_frame.set_border((100, 100, 150), 1)
        right_frame.set_corner_radius(5)
        self.main_tabs.add_to_tab(tab, right_frame)

        self.right_stick_indicator = UiFrame(60, 60, 10, 10, root_point=(0.5, 0.5))
        self.right_stick_indicator.set_background_color((100, 255, 100))
        self.right_stick_indicator.set_corner_radius(5)
        right_frame.add_child(self.right_stick_indicator)

        right_label = TextLabel(150, 435, &quot;Right Stick&quot;, 14, (180, 180, 180))
        self.main_tabs.add_to_tab(tab, right_label)

        # Dâ€‘pad visual (simple cross)
        dpad_label = TextLabel(300, 270, &quot;D-Pad:&quot;, 20, (200, 200, 255))
        self.main_tabs.add_to_tab(tab, dpad_label)

        dpad_frame = UiFrame(300, 310, 100, 100)
        dpad_frame.set_background_color((40, 40, 50))
        dpad_frame.set_border((100, 100, 150), 1)
        self.main_tabs.add_to_tab(tab, dpad_frame)

        self.dpad_indicator = UiFrame(50, 50, 10, 10, root_point=(0.5, 0.5))  # center
        self.dpad_indicator.set_background_color((200, 200, 0))
        self.dpad_indicator.set_corner_radius(5)
        dpad_frame.add_child(self.dpad_indicator)
        
        # R2, L2, LT, RT
        triggers_indicators = UiFrame(425, 310, 80, 100)
        triggers_indicators.set_background_color((40, 40, 50))
        
        self.right_trigger = ProgressBar(75, 50, 30, 90, min_val=-1, max_val=1, value=0, root_point=(1, 0.5), orientation=&#x27;vertical&#x27;)
        triggers_indicators.add_child(self.right_trigger)
        
        self.left_trigger = ProgressBar(5, 50, 30, 90,min_val=-1, max_val=1, value=0, root_point=(0, 0.5), orientation=&#x27;vertical&#x27;)
        triggers_indicators.add_child(self.left_trigger)
        self.main_tabs.add_to_tab(tab, triggers_indicators)

        # Button indicators (A, B, X, Y)
        btn_label = TextLabel(10, 470, &quot;Buttons:&quot;, 20, (200, 200, 255))
        self.main_tabs.add_to_tab(tab, btn_label)

        btn_frame = UiFrame(10, 510, 400, 90)
        btn_frame.set_background_color((30, 30, 40, 200))
        btn_frame.set_border((80, 80, 100), 1)
        self.main_tabs.add_to_tab(tab, btn_frame)

        button_names = [&#x27;A&#x27;, &#x27;B&#x27;, &#x27;X&#x27;, &#x27;Y&#x27;, &#x27;LB&#x27;, &#x27;RB&#x27;, &#x27;Back&#x27;, &#x27;Start&#x27;, &#x27;RSC&#x27;, &#x27;LSC&#x27;]
        x_pos = 10
        y_pos = 10
        for index, name in enumerate(button_names): # Frame can handle 7 per line
            # Create a small colored circle for each button
            circle = UiFrame(x_pos, y_pos, 45, 30)
            circle.set_background_color((80, 80, 80))  # default grey
            circle.set_corner_radius(20)
            btn_frame.add_child(circle)
            self.button_indicators[name] = circle

            # Label under circle
            lbl = TextLabel(22.5, 15, name, 18, (200, 200, 200), root_point=(0.5, 0.5))
            circle.add_child(lbl)

            x_pos += 55
            if index % 7 == 6:
                x_pos = 10
                y_pos += 40

        # Update the dropdown with currently connected controllers
        self.refresh_controller_dropdown()

    def refresh_controller_dropdown(self):
        &quot;&quot;&quot;Update the dropdown list with current controllers.&quot;&quot;&quot;
        controllers = self.engine.controller_manager.get_all_controllers()
        if controllers:
            names = [f&quot;{c.name} (ID:{c.joystick_id})&quot; for c in controllers]
            self.controller_dropdown.set_options(names)
            if self.selected_controller_idx is None or self.selected_controller_idx &gt;= len(controllers):
                self.selected_controller_idx = 0
                self.controller_dropdown.selected_index = 0
        else:
            self.controller_dropdown.set_options([&quot;No controller&quot;])
            self.selected_controller_idx = None

    def on_controller_selected(self, index: int, value: str):
        &quot;&quot;&quot;Handle selection of a controller from dropdown.&quot;&quot;&quot;
        controllers = self.engine.controller_manager.get_all_controllers()
        if controllers and 0 &lt;= index &lt; len(controllers):
            self.selected_controller_idx = index

    def update_controller_display(self):
        &quot;&quot;&quot;Update the UI elements with current data from the selected controller.&quot;&quot;&quot;
        if self.selected_controller_idx is None:
            # No controller selected, set all indicators to default
            for label in self.controller_info_labels.values():
                label.set_text(label.text.split(&#x27;:&#x27;)[0] + &quot;: --&quot;)
            # Reset joystick indicators to center
            self.left_stick_indicator.x = 60
            self.left_stick_indicator.y = 60
            self.right_stick_indicator.x = 60
            self.right_stick_indicator.y = 60
            self.dpad_indicator.x = 50
            self.dpad_indicator.y = 50
            for circle in self.button_indicators.values():
                circle.set_background_color((80, 80, 80))
            return

        controllers = self.engine.controller_manager.get_all_controllers()
        if not controllers or self.selected_controller_idx &gt;= len(controllers):
            return

        ctrl = controllers[self.selected_controller_idx]

        # Update info labels
        self.controller_info_labels[&#x27;type&#x27;].set_text(f&quot;Type: {ctrl.type.name}&quot;)
        self.controller_info_labels[&#x27;connection&#x27;].set_text(f&quot;Connection: {ctrl.connection.name}&quot;)
        self.controller_info_labels[&#x27;touchpad&#x27;].set_text(f&quot;Touchpad: {&#x27;Yes&#x27; if ctrl._touch_joystick else &#x27;No&#x27;}&quot;)
        self.controller_info_labels[&#x27;gyro&#x27;].set_text(f&quot;Gyro: {&#x27;Yes&#x27; if Axis.GYRO_X in ctrl._axis_map else &#x27;No&#x27;}&quot;)
        self.controller_info_labels[&#x27;rumble&#x27;].set_text(f&quot;Rumble: {&#x27;Yes&#x27; if ctrl._has_rumble else &#x27;No&#x27;}&quot;)
        self.controller_info_labels[&#x27;axes&#x27;].set_text(f&quot;Axes: {ctrl.num_axes}&quot;)
        self.controller_info_labels[&#x27;buttons&#x27;].set_text(f&quot;Buttons: {ctrl.num_buttons}&quot;)
        self.controller_info_labels[&#x27;hats&#x27;].set_text(f&quot;Hats: {ctrl.num_hats}&quot;)

        # Update joystick positions
        # Left stick: map axis values (-1..1) to frame coordinates (0..120) with offset
        lx = ctrl.get_axis(Axis.LEFT_X)
        ly = ctrl.get_axis(Axis.LEFT_Y)
        # Invert Y because screen Y increases downwards
        left_x = 60 + int(lx * 50)   # range -50..50 around center 55
        left_y = 60 + int(-ly * 50)  # negative ly moves up
        # Clamp to frame bounds
        left_x = max(5, min(115, left_x))
        left_y = max(5, min(115, left_y))
        self.left_stick_indicator.x = left_x
        self.left_stick_indicator.y = left_y

        rx = ctrl.get_axis(Axis.RIGHT_X)
        ry = ctrl.get_axis(Axis.RIGHT_Y)
        right_x = 60 + int(rx * 50)
        right_y = 60 + int(-ry * 50)
        right_x = max(5, min(115, right_x))
        right_y = max(5, min(115, right_y))
        self.right_stick_indicator.x = right_x
        self.right_stick_indicator.y = right_y

        # Dâ€‘pad
        hat_x = -1 if ctrl.get_button_pressed(JButton.DPAD_LEFT) else (1 if ctrl.get_button_pressed(JButton.DPAD_RIGHT) else 0)
        hat_y = 1 if ctrl.get_button_pressed(JButton.DPAD_UP) else (-1 if ctrl.get_button_pressed(JButton.DPAD_DOWN) else 0)
        dpad_x = 50 + int(hat_x * 40)   # max displacement 40
        dpad_y = 50 + int(-hat_y * 40)
        dpad_x = max(5, min(95, dpad_x))
        dpad_y = max(5, min(95, dpad_y))
        self.dpad_indicator.x = dpad_x
        self.dpad_indicator.y = dpad_y
        
        # (R2, L2), (LT, RT)
        self.right_trigger.set_value(ctrl.get_axis(Axis.RIGHT_TRIGGER))
        self.left_trigger.set_value(ctrl.get_axis(Axis.LEFT_TRIGGER))

        # Button indicators
        button_map = {
            &#x27;A&#x27;: JButton.A,
            &#x27;B&#x27;: JButton.B,
            &#x27;X&#x27;: JButton.X,
            &#x27;Y&#x27;: JButton.Y,
            &#x27;LB&#x27;: JButton.LEFT_BUMPER,
            &#x27;RB&#x27;: JButton.RIGHT_BUMPER,
            &#x27;Back&#x27;: JButton.BACK,
            &#x27;Start&#x27;: JButton.START,
            &#x27;RSC&#x27;: JButton.RIGHT_STICK,
            &#x27;LSC&#x27;: JButton.LEFT_STICK,
        }
        for name, btn in button_map.items():
            if ctrl.get_button_pressed(btn):
                self.button_indicators[name].set_background_color((0, 255, 0))  # green when pressed
            else:
                self.button_indicators[name].set_background_color((80, 80, 80))

    def randomize_charts(self):
        &quot;&quot;&quot;Generate new random data for each chart and animate the change.&quot;&quot;&quot;
        import random
        for chart in self.charts:
            n = len(chart.data)
            if chart.chart_type == &#x27;pie&#x27;:
                # Random values for pie
                new_data = [random.randint(5, 40) for _ in range(n)]
            else:
                new_data = [random.randint(5, 70) for _ in range(n)]

            # Animate the change over 0.8 seconds
            chart.set_data(new_data, animate=True, duration=0.8)

        print(&quot;Charts randomized with smooth transition!&quot;)
    
    def show_notification(self):
        notification_type = [NotificationType.SUCCESS, NotificationType.INFO, NotificationType.WARNING, NotificationType.ERROR][self.notification_type.selected_index]
        notification_position = [NotificationPosition.TOP_LEFT, NotificationPosition.TOP_CENTER, NotificationPosition.TOP_RIGHT, NotificationPosition.BOTTOM_LEFT, NotificationPosition.BOTTOM_CENTER, NotificationPosition.BOTTOM_RIGHT][self.notification_position.selected_index]
        self.engine.show_notification(text=&quot;Notification Example Text&quot;, notification_type=notification_type, duration=self.notification_duration.value, position=notification_position, show_close_button=self.show_close_button.value, auto_close=self.auto_close.value, show_progress_bar=self.show_progress_bar.value)
    
    def setup_interactive_tab(self):
        &quot;&quot;&quot;Sets up interactive elements tab.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, TextLabel(10, 10, &quot;Interactive Elements&quot;, 24, (255, 255, 0)))
        
        # Button Example
        button1 = Button(x=20, y=50, width=150, height=40, text=&quot;Click Me&quot;)
        button1.set_on_click(self.update_state, &#x27;button_clicks&#x27;, self.demo_state[&#x27;button_clicks&#x27;] + 1)
        button1.set_simple_tooltip(&quot;This button counts your clicks!&quot;)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, button1)
        
        self.button_counter = TextLabel(180, 70, &quot;Clicks: 0&quot;, 16)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, self.button_counter)
        
        # Slider Example
        slider_label = TextLabel(20, 125, &quot;Slider:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, slider_label)
        
        slider = Slider(100, 120, 200, 30, 0, 100, 50)
        slider.on_value_changed = lambda v: self.update_state(&#x27;slider_value&#x27;, v)
        slider.set_simple_tooltip(&quot;Drag to change the value&quot;)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, slider)
        
        self.slider_display = TextLabel(310, 125, &quot;Value: 50.0&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, self.slider_display)
        
        # Progress Bar Example
        progress_label = TextLabel(20, 175, &quot;Progress Bar:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, progress_label)
        
        self.progress_bar = ProgressBar(150, 170, 200, 20, 0, 100, 0)
        self.progress_bar.set_simple_tooltip(&quot;Shows progress from 0% to 100%&quot;)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, self.progress_bar)
        
        progress_btn = Button(360, 170, 100, 20, &quot;Add 10%&quot;)
        progress_btn.set_on_click(lambda: self.add_progress(10))
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, progress_btn)
        
        self.progress_display = TextLabel(470, 175, &quot;Progress: 0%&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, self.progress_display)
        
        # Draggable Element
        draggable_label = TextLabel(20, 220, &quot;Draggable Element:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, draggable_label)
        
        draggable = UIDraggable(160, 220, 100, 50)
        draggable.set_simple_tooltip(&quot;Drag me around within the tab!&quot;)
        self.main_tabs.add_to_tab(&#x27;Interactive&#x27;, draggable)
    
    def setup_selection_tab(self):
        &quot;&quot;&quot;Sets up selection elements tab.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, TextLabel(10, 10, &quot;Selection Elements&quot;, 24, (255, 255, 0)))
        
        # Dropdown Example
        dropdown_label = TextLabel(20, 50, &quot;Dropdown:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, dropdown_label)
        
        dropdown = Dropdown(120, 40, 200, 30, [&quot;Option 1&quot;, &quot;Option 2&quot;, &quot;Option 3&quot;])
        dropdown.set_on_selection_changed(lambda i, v: self.update_state(&#x27;dropdown_selection&#x27;, v))
        dropdown.set_simple_tooltip(&quot;Click to expand and select an option&quot;)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, dropdown)
        
        self.dropdown_display = TextLabel(330, 50, &quot;Selected: Option 1&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, self.dropdown_display)
        
        # Theme Dropdown
        theme_label = TextLabel(20, 100, &quot;Theme Selector:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, theme_label)
        
        theme_dropdown = Dropdown(150, 90, 150, 30, ThemeManager.get_theme_names(), font_size=16, searchable=True)
        theme_dropdown.set_on_selection_changed(lambda i, v: self.engine.set_global_theme(v))
        theme_dropdown.set_simple_tooltip(&quot;Change the global theme&quot;)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, theme_dropdown)
        
        # Switch Example
        switch_label = TextLabel(20, 160, &quot;Switch:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, switch_label)
        
        switch = Switch(100, 150, 60, 30)
        switch.set_on_toggle(lambda s: self.update_state(&#x27;switch_state&#x27;, s))
        switch.set_simple_tooltip(&quot;Toggle switch on/off&quot;)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, switch)
        
        self.switch_display = TextLabel(170, 160, &quot;Switch: OFF&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, self.switch_display)
        
        # Checkbox Example
        checkbox_label = TextLabel(20, 205, &quot;Checkbox:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, checkbox_label)
        
        checkbox = Checkbox(120, 200, 200, 25, self.demo_state[&#x27;checkbox_state&#x27;], label=&quot;Enable Feature X&quot;)
        checkbox.set_on_toggle(lambda s: self.update_state(&#x27;checkbox_state&#x27;, s))
        checkbox.set_simple_tooltip(&quot;Toggle this feature on/off&quot;)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, checkbox)
        
        self.checkbox_display = TextLabel(330, 205, &quot;Feature X: ON&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, self.checkbox_display)
        
        # Number Selector Example
        number_label = TextLabel(20, 255, &quot;Number Selector:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, number_label)
        
        number_selector = NumberSelector(160, 250, 75, 25, 0, 99, self.demo_state[&#x27;number_selector_value&#x27;], min_length=2)
        number_selector.on_value_changed = lambda v: self.update_state(&#x27;number_selector_value&#x27;, v)
        number_selector.set_simple_tooltip(&quot;Select a number from 00 to 99&quot;)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, number_selector)

        self.number_selector_display = TextLabel(245, 255, &quot;Number: 10&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, self.number_selector_display)
        
        # Select Example
        select_label = TextLabel(20, 295, &quot;Select (Cycle):&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, select_label)
        
        select = Select(150, 290, 200, 30, [&quot;Choice A&quot;, &quot;Choice B&quot;, &quot;Choice C&quot;])
        select.set_on_selection_changed(lambda i, v: self.update_state(&#x27;select_index&#x27;, i))
        select.set_simple_tooltip(&quot;Use arrows to cycle through options&quot;)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, select)
        
        self.select_display = TextLabel(360, 295, &quot;Choice: 1&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Selection&#x27;, self.select_display)
    
    def setup_visual_tab(self):
        &quot;&quot;&quot;Sets up visual elements tab.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, TextLabel(10, 10, &quot;Visual Elements&quot;, 24, (255, 255, 0)))
        
        # Gradient Example
        gradient_label = TextLabel(20, 50, &quot;Color Gradient:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, gradient_label)
        
        gradient = UIGradient(40, 75, 300, 60, [(255, 0, 0), (200, 100, 0), (0, 255, 0), (0, 200, 100), (0, 0, 255)])
        gradient.set_simple_tooltip(&quot;Beautiful gradient with multiple colors&quot;)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, gradient)
        
        # Text Label Examples
        labels_label = TextLabel(20, 175, &quot;Text Labels:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, labels_label)
        
        label1 = TextLabel(40, 195, &quot;Regular Label&quot;, 18, (255, 255, 255))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, label1)
        
        label2 = TextLabel(40, 225, &quot;Colored Label&quot;, 22, (100, 255, 100))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, label2)
        
        label3 = TextLabel(40, 255, &quot;Large Label&quot;, 28, (255, 200, 50))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, label3)
        
        # Frame Example
        frame_label = TextLabel(20, 280, &quot;UI Frame:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, frame_label)
        
        frame = UiFrame(40, 300, 200, 100)
        frame.set_background_color((50, 50, 100, 200))
        frame.set_border((100, 150, 255),2)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, frame)
        
        # Frame with text
        inner_label = TextLabel(5,5, &quot;This is a frame&quot;, 16, (255, 255, 255))
        frame.add_child(inner_label)
        
        # Separator line
        separator = TextLabel(20, 420, &quot;Horizontal Separator:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, separator)
        
        separator_line = UiFrame(20, 440, 400, 2)
        separator_line.set_background_color((100, 100, 100))
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, separator_line)
        
        clock12hranalog = Clock(20, 460, 150, None, 16, True, True, &#x27;12hr&#x27;, &#x27;analog&#x27;)
        clock12hrdigital = Clock(200, 460, 150, None, 16, True, True, &#x27;12hr&#x27;, &#x27;digital&#x27;)
        clock24hranalog = Clock(380, 460, 150, None, 16, True, True, &#x27;24hr&#x27;, &#x27;analog&#x27;)
        clock24hrdigital = Clock(560, 460, 150, None, 16, True, True, &#x27;24hr&#x27;, &#x27;digital&#x27;)
        clock24hrboth = Clock(740, 460, 150, None, 16, True, True, &#x27;24hr&#x27;, &#x27;both&#x27;)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, clock12hranalog)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, clock12hrdigital)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, clock24hranalog)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, clock24hrdigital)
        self.main_tabs.add_to_tab(&#x27;Visual&#x27;, clock24hrboth)
    
    def setup_advanced_tab(self):
        &quot;&quot;&quot;Sets up advanced elements tab.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, TextLabel(10, 10, &quot;Advanced Elements&quot;, 24, (255, 255, 0)))
        
        # TextBox Example
        textbox_label = TextLabel(20, 60, &quot;TextBox (Single-line):&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textbox_label)
        
        textbox = TextBox(150, 50, 250, 30, &quot;Type here...&quot;)
        textbox.set_simple_tooltip(&quot;Click and type to enter text&quot;)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textbox)
        
        # NEW: TextArea Example
        textarea_label = TextLabel(20, 100, &quot;TextArea (Multi-line):&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textarea_label)
        
        self.text_area = TextArea(20, 130, 350, 200, 
                                text=self.demo_state[&#x27;text_area_content&#x27;],
                                font_size=14,
                                line_numbers=True,
                                word_wrap=True,
                                read_only=False,
                                tab_size=4)
        self.text_area.set_simple_tooltip(&quot;A multi-line text editor with line numbers and word wrap&quot;)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, self.text_area)
        
        # TextArea controls
        textarea_controls_y = 340
        textarea_clear_btn = Button(20, textarea_controls_y, 80, 25, &quot;Clear&quot;)
        textarea_clear_btn.set_on_click(lambda: self.clear_text_area())
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textarea_clear_btn)
        
        textarea_undo_btn = Button(110, textarea_controls_y, 80, 25, &quot;Undo&quot;)
        textarea_undo_btn.set_on_click(lambda: self.text_area.undo())
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textarea_undo_btn)
        
        textarea_redo_btn = Button(200, textarea_controls_y, 80, 25, &quot;Redo&quot;)
        textarea_redo_btn.set_on_click(lambda: self.text_area.redo())
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textarea_redo_btn)
        
        textarea_select_all_btn = Button(290, textarea_controls_y, 80, 25, &quot;Select All&quot;)
        textarea_select_all_btn.set_on_click(lambda: self.text_area.select_all())
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, textarea_select_all_btn)
        
        # NEW: FileFinder Example
        filefinder_label = TextLabel(420, 60, &quot;FileFinder:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, filefinder_label)
        
        self.file_finder = FileFinder(420, 90, 350, 40, 
                                    file_path=self.demo_state[&#x27;file_finder_path&#x27;],
                                    file_filter=[&#x27;.txt&#x27;, &#x27;.py&#x27;, &#x27;.json&#x27;, &#x27;.png&#x27;, &#x27;.jpg&#x27;],
                                    dialog_title=&quot;Select a file&quot;,
                                    button_text=&quot;Browse...&quot;,
                                    show_icon=True)
        self.file_finder.set_simple_tooltip(&quot;Select a file from your computer&quot;)
        self.file_finder.on_file_selected = lambda path: self.on_file_selected(path)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, self.file_finder)
        
        # FileFinder status display
        self.file_finder_status = TextLabel(420, 135, f&quot;Selected: {self.demo_state[&#x27;file_finder_path&#x27;]}&quot;, 14, (200, 200, 200))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, self.file_finder_status)
        
        # NEW: Pagination Example
        pagination_label = TextLabel(420, 210, &quot;Pagination:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, pagination_label)
        
        self.pagination = Pagination(420, 230, 350, 40, total_pages=10, current_page=self.demo_state[&#x27;current_page&#x27;])
        self.pagination.set_on_page_change(lambda page, _: self.on_page_change(page))
        self.pagination.set_simple_tooltip(&quot;Navigate through pages&quot;)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, self.pagination)
        
        # Pagination controls
        pagination_controls_y = 290
        pagination_prev_btn = Button(420, pagination_controls_y, 80, 25, &quot;Previous&quot;)
        pagination_prev_btn.set_on_click(lambda: self.pagination.previous_page())
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, pagination_prev_btn)
        
        pagination_next_btn = Button(510, pagination_controls_y, 80, 25, &quot;Next&quot;)
        pagination_next_btn.set_on_click(lambda: self.pagination.next_page())
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, pagination_next_btn)
        
        pagination_goto_btn = Button(600, pagination_controls_y, 80, 25, &quot;Go to 5&quot;)
        pagination_goto_btn.set_on_click(lambda: self.pagination.set_page(5))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, pagination_goto_btn)
        
        self.pagination_display = TextLabel(690, pagination_controls_y + 5, f&quot;Page: {self.demo_state[&#x27;current_page&#x27;]}/10&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, self.pagination_display)
        
        # ScrollingFrame Example (moved to make room)
        scroll_label = TextLabel(20, 380, &quot;Scrolling Frame:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, scroll_label)
        
        scroll_frame = ScrollingFrame(20, 410, 350, 200, 330, 600)
        scroll_frame.set_simple_tooltip(&quot;Scrollable container with multiple items&quot;)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, scroll_frame)
        
        # Add items to scrolling frame
        for i in range(15):
            item_color = (100 + i * 10, 150, 200) if i % 2 == 0 else (200, 150, 100 + i * 10)
            if i % 2 == 0: # Even = TextLabel
                item = TextLabel(10, 15 + i * 30, f&quot;Scrollable Item {i + 1}&quot;, 14, item_color)
            else: # Odd = Button
                item = Button(10, 15 + i * 30, 80, 20, f&quot;Button {i + 1}&quot;)
                item.set_on_click(print, f&quot;Button {i + 1} clicked!&quot;)
                
            scroll_frame.add_child(item)
        
        # Dialog Button (moved to right side)
        dialog_label = TextLabel(400, 360, &quot;Dialog Box:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, dialog_label)
        
        dialog_btn = Button(500, 355, 150, 40, &quot;Show Dialog&quot;)
        dialog_btn.set_on_click(lambda: self.show_dialog())
        dialog_btn.set_simple_tooltip(&quot;Click to show an RPG-style dialog box&quot;)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, dialog_btn)
        
        # Advanced Tooltip Button
        tooltip_label = TextLabel(400, 410, &quot;Advanced Tooltip:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, tooltip_label)
        
        advanced_tooltip_btn = Button(500, 405, 180, 40, &quot;Hover for Tooltip&quot;)
        advanced_tooltip_config = TooltipConfig(
            text=&quot;This is an advanced tooltip with custom styling! It has more padding, and a delay.&quot;,
            font_size=16,
            padding=12,
            offset_x=15,
            offset_y=15,
            show_delay=0.2,
            max_width=250,
        )
        advanced_tooltip = Tooltip(advanced_tooltip_config)
        advanced_tooltip_btn.set_tooltip(advanced_tooltip)
        self.main_tabs.add_to_tab(&#x27;Advanced&#x27;, advanced_tooltip_btn)
    
    def setup_animation_tab(self):
        &quot;&quot;&quot;Sets up animation examples tab.&quot;&quot;&quot;
        # Tab title
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, TextLabel(10, 10, &quot;Animation Examples&quot;, 24, (255, 255, 0)))
        
        # Animation controls label
        animation_controls = TextLabel(20, 50, &quot;Animation Controls:&quot;, 20, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, animation_controls)
        
        # Linear Animation Example
        linear_label = TextLabel(20, 80, &quot;Linear Animation:&quot;, 16, (100, 255, 100))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, linear_label)
        
        self.linear_box = UiFrame(20, 105, 20, 20)
        self.linear_box.set_background_color((100, 255, 100))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.linear_box)
        
        # Linear animation path
        self.linear_path = UiFrame(20, 115, 300, 3)
        self.linear_path.set_background_color((50, 150, 50, 100))
        self.linear_path.z_index = -1
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.linear_path)
        
        self.linear_progress = TextLabel(330, 110, &quot;0%&quot;, 14, (100, 255, 100))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.linear_progress)
        
        # Bounce Animation Example
        bounce_label = TextLabel(20, 140, &quot;Bounce Animation:&quot;, 16, (255, 200, 50))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, bounce_label)
        
        self.bounce_box = UiFrame(20, 165, 20, 20)
        self.bounce_box.set_background_color((255, 200, 50))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.bounce_box)
        
        # Bounce animation path
        self.bounce_path = UiFrame(20, 175, 300, 3)
        self.bounce_path.set_background_color((200, 150, 50, 100))
        self.bounce_path.z_index = -1
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.bounce_path)
        
        self.bounce_progress = TextLabel(330, 170, &quot;0%&quot;, 14, (255, 200, 50))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.bounce_progress)
        
        # Back Animation Example
        back_label = TextLabel(20, 200, &quot;Back Animation:&quot;, 16, (255, 100, 100))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, back_label)
        
        self.back_box = UiFrame(20, 225, 20, 20)
        self.back_box.set_background_color((255, 100, 100))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.back_box)
        
        # Back animation path
        self.back_path = UiFrame(20, 235, 300, 3)
        self.back_path.set_background_color((200, 50, 50, 100))
        self.back_path.z_index = -1
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.back_path)
        
        self.back_progress = TextLabel(330, 230, &quot;0%&quot;, 14, (255, 100, 100))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.back_progress)
        
        # Animation control buttons (horizontal layout)
        control_y = 270
        pause_btn = Button(20, control_y, 90, 30, &quot;Pause All&quot;)
        pause_btn.set_on_click(lambda: self.pause_animations())
        pause_btn.set_simple_tooltip(&quot;Pause all animations&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, pause_btn)
        
        resume_btn = Button(120, control_y, 90, 30, &quot;Resume All&quot;)
        resume_btn.set_on_click(lambda: self.resume_animations())
        resume_btn.set_simple_tooltip(&quot;Resume all animations&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, resume_btn)
        
        reset_btn = Button(220, control_y, 90, 30, &quot;Reset All&quot;)
        reset_btn.set_on_click(lambda: self.reset_animations())
        reset_btn.set_simple_tooltip(&quot;Reset all animations&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, reset_btn)
        
        # Animation speed control
        speed_label = TextLabel(20, 310, &quot;Animation Speed:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, speed_label)
        
        self.speed_slider = Slider(170, 310, 150, 20, 0.5, 3.0, 1.0)
        self.speed_slider.on_value_changed = lambda v: self.update_animation_speed(v)
        self.speed_slider.set_simple_tooltip(&quot;Adjust animation speed (0.5x to 3.0x)&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.speed_slider)
        
        self.speed_display = TextLabel(330, 315, &quot;1.0x&quot;, 14)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.speed_display)
        
        # Loop control buttons
        loop_label = TextLabel(20, 350, &quot;Loop Controls:&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, loop_label)
        
        loop_y = 380
        loop_btn = Button(20, loop_y, 100, 30, &quot;3 Loops&quot;)
        loop_btn.set_on_click(lambda: self.set_animations_loops(3))
        loop_btn.set_simple_tooltip(&quot;Set all animations to loop 3 times&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, loop_btn)

        infinite_loop_btn = Button(130, loop_y, 100, 30, &quot;Infinite&quot;)
        infinite_loop_btn.set_on_click(lambda: self.set_animations_loops(-1))
        infinite_loop_btn.set_simple_tooltip(&quot;Set all animations to loop infinitely&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, infinite_loop_btn)

        no_loop_btn = Button(240, loop_y, 100, 30, &quot;No Loop&quot;)
        no_loop_btn.set_on_click(lambda: self.set_animations_loops(0))
        no_loop_btn.set_simple_tooltip(&quot;Disable looping for all animations&quot;)
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, no_loop_btn)
        
        # Loop count display
        self.loop_display = TextLabel(20, 420, &quot;Loops: Infinite&quot;, 16, (200, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, self.loop_display)
        
        # Animation description
        desc_text = &quot;Animations use the Tween system with Yoyo effect (forward-backward motion).&quot;
        desc_label = TextLabel(20, 460, desc_text, 14, (150, 200, 255))
        self.main_tabs.add_to_tab(&#x27;Animation&#x27;, desc_label)
        
    def clear_text_area(self):
        &quot;&quot;&quot;Clear the text area content.&quot;&quot;&quot;
        self.text_area.set_text(&quot;&quot;)
        self.demo_state[&#x27;text_area_content&#x27;] = &quot;&quot;
        print(&quot;Text area cleared&quot;)

    def on_file_selected(self, file_path):
        &quot;&quot;&quot;Handle file selection.&quot;&quot;&quot;
        self.demo_state[&#x27;file_finder_path&#x27;] = file_path
        self.file_finder_status.set_text(f&quot;Selected: {file_path}&quot;)
        print(f&quot;File selected: {file_path}&quot;)

    def on_page_change(self, page):
        &quot;&quot;&quot;Handle pagination page change.&quot;&quot;&quot;
        self.demo_state[&#x27;current_page&#x27;] = page
        self.pagination_display.set_text(f&quot;Page: {page}/10&quot;)
        print(f&quot;Page changed to: {page}&quot;)
    
    def set_animations_loops(self, loops: int):
        &quot;&quot;&quot;Set loop count for all animations&quot;&quot;&quot;
        yoyo = True  # Always use yoyo for this demo
        
        for anim_name, tween in self.animations.items():
            tween.set_loops(loops, yoyo=yoyo)
        
        if loops == -1:
            loop_text = &quot;Loops: Infinite&quot;
        elif loops == 0:
            loop_text = &quot;Loops: No Loop&quot;
        else:
            loop_text = f&quot;Loops: {loops}&quot;
        
        if yoyo:
            loop_text += &quot; (Yoyo)&quot;
        
        self.loop_display.set_text(loop_text)
        print(f&quot;Set all animations to {loops if loops != -1 else &#x27;infinite&#x27;} loops with yoyo={yoyo}&quot;)
    
    def setup_animations(self):
        &quot;&quot;&quot;Set up the three animation examples using Tween system&quot;&quot;&quot;
        
        # 1. Linear Animation (smooth back and forth with yoyo)
        linear_tween = Tween.create(self.linear_box)
        linear_tween.to(
            x=320,  # Move within the tab boundaries
            duration=2.0,
            easing=EasingType.LINEAR
        )
        linear_tween.set_loops(-1, yoyo=True)  # Infinite loops with yoyo
        self.animation_handler.add(&#x27;linear_animation&#x27;, linear_tween, auto_play=True)
        
        # 2. Bounce Animation (bounces at the end with yoyo)
        bounce_tween = Tween.create(self.bounce_box)
        bounce_tween.to(
            x=320,  # Move within the tab boundaries
            duration=2.0,
            easing=EasingType.BOUNCE_OUT
        )
        bounce_tween.set_loops(-1, yoyo=True)  # Infinite loops with yoyo
        self.animation_handler.add(&#x27;bounce_animation&#x27;, bounce_tween, auto_play=True)
        
        # 3. Back Animation (overshoots and comes back with yoyo)
        back_tween = Tween.create(self.back_box)
        back_tween.to(
            x=320,  # Move within the tab boundaries
            duration=2.0,
            easing=EasingType.BACK_OUT
        )
        back_tween.set_loops(-1, yoyo=True)  # Infinite loops with yoyo
        self.animation_handler.add(&#x27;back_animation&#x27;, back_tween, auto_play=True)
        
        # Store animation objects for reference
        self.animations[&#x27;linear&#x27;] = linear_tween
        self.animations[&#x27;bounce&#x27;] = bounce_tween
        self.animations[&#x27;back&#x27;] = back_tween
        
        print(&quot;Animations started with infinite yoyo loops&quot;)
    
    def update_animation_display(self, anim_type: str, tween: Tween):
        &quot;&quot;&quot;Update animation progress display&quot;&quot;&quot;
        progress = tween.get_progress_percentage()
        current_loop = tween.current_loop
        yoyo_dir = &quot;forward&quot; if tween.yoyo_forward else &quot;backward&quot;
        
        if anim_type == &#x27;linear&#x27;:
            self.linear_progress.set_text(f&quot;{progress:.0f}% L{current_loop} {yoyo_dir}&quot;)
        elif anim_type == &#x27;bounce&#x27;:
            self.bounce_progress.set_text(f&quot;{progress:.0f}% L{current_loop} {yoyo_dir}&quot;)
        elif anim_type == &#x27;back&#x27;:
            self.back_progress.set_text(f&quot;{progress:.0f}% L{current_loop} {yoyo_dir}&quot;)
    
    def update_animation_speed(self, speed: float):
        &quot;&quot;&quot;Update animation speed by adjusting duration&quot;&quot;&quot;
        self.speed_display.set_text(f&quot;{speed:.1f}x&quot;)
        
        # Update all animations&#x27; durations based on speed multiplier
        base_duration = 2.0  # Original duration
        new_duration = base_duration / speed
        
        for anim_name, tween in self.animations.items():
            # Use the new set_duration method
            tween.set_duration(new_duration)
            print(f&quot;Updated {anim_name} animation duration to {new_duration:.2f}s&quot;)
    
    def pause_animations(self):
        &quot;&quot;&quot;Pause all animations&quot;&quot;&quot;
        self.animation_handler.pause_all()
        print(&quot;All animations paused&quot;)
    
    def resume_animations(self):
        &quot;&quot;&quot;Resume all animations&quot;&quot;&quot;
        self.animation_handler.resume_all()
        print(&quot;All animations resumed&quot;)
    
    def reset_animations(self):
        &quot;&quot;&quot;Reset all animations to starting position&quot;&quot;&quot;
        print(&quot;Resetting animations...&quot;)
        
        # Cancel current animations
        self.animation_handler.cancel_all()
        
        # Reset box positions
        self.linear_box.x = 20
        self.bounce_box.x = 20
        self.back_box.x = 20
        
        # Reset progress displays
        self.linear_progress.set_text(&quot;0%&quot;)
        self.bounce_progress.set_text(&quot;0%&quot;)
        self.back_progress.set_text(&quot;0%&quot;)
        
        # Restart animations
        self.setup_animations()
        print(&quot;Animations reset and restarted&quot;)
    
    def update_state(self, key, value):
        &quot;&quot;&quot;Updates the demo state and prints feedback for interactive elements.&quot;&quot;&quot;
        self.demo_state[key] = value
        
        # Print for debug/console feedback
        if key in [&#x27;dropdown_selection&#x27;, &#x27;switch_state&#x27;, &#x27;number_selector_value&#x27;, &#x27;checkbox_state&#x27;]:
            print(f&quot;{key}: {value}&quot;)
    
    def add_progress(self, amount):
        &quot;&quot;&quot;Increments the progress bar value.&quot;&quot;&quot;
        self.demo_state[&#x27;progress_value&#x27;] = min(100, self.demo_state[&#x27;progress_value&#x27;] + amount)
        self.progress_bar.set_value(self.demo_state[&#x27;progress_value&#x27;])
    
    def show_dialog(self):
        &quot;&quot;&quot;Shows the RPG-style dialog box.&quot;&quot;&quot;
        self.dialog_box.visible = True
        self.dialog_box.set_text(
            &quot;Welcome to LunaEngine! This is an RPG-style dialog box with typewriter animation. Click to continue...&quot;,
            &quot;System&quot;,
            instant=False  # Change to True if you want instant display
        )
        self.demo_state[&#x27;dialog_active&#x27;] = True
    
    def hide_dialog(self):
        &quot;&quot;&quot;Hides the RPG-style dialog box.&quot;&quot;&quot;
        self.dialog_box.visible = False
        self.demo_state[&#x27;dialog_active&#x27;] = False
    
    def update_ui_displays(self):
        &quot;&quot;&quot;Updates all TextLabels that reflect current UI state.&quot;&quot;&quot;
        self.button_counter.set_text(f&quot;Clicks: {self.demo_state[&#x27;button_clicks&#x27;]}&quot;)
        self.slider_display.set_text(f&quot;Value: {self.demo_state[&#x27;slider_value&#x27;]:.1f}&quot;)
        self.dropdown_display.set_text(f&quot;Selected: {self.demo_state[&#x27;dropdown_selection&#x27;]}&quot;)
        self.switch_display.set_text(f&quot;Switch: {&#x27;ON&#x27; if self.demo_state[&#x27;switch_state&#x27;] else &#x27;OFF&#x27;}&quot;)
        self.progress_display.set_text(f&quot;Progress: {self.demo_state[&#x27;progress_value&#x27;]}%&quot;)
        self.select_display.set_text(f&quot;Choice: {self.demo_state[&#x27;select_index&#x27;] + 1}&quot;)
        
        # Existing element displays
        self.number_selector_display.set_text(f&quot;Number: {self.demo_state[&#x27;number_selector_value&#x27;]:02d}&quot;)
        self.checkbox_display.set_text(f&quot;Feature X: {&#x27;ON&#x27; if self.demo_state[&#x27;checkbox_state&#x27;] else &#x27;OFF&#x27;}&quot;)
        
        self.fps_display.set_text(f&quot;FPS: {self.engine.get_fps_stats()[&#x27;current_fps&#x27;]:.1f}&quot;)
        
        # Update text area content if it exists
        if hasattr(self, &#x27;text_area&#x27;):
            current_text = self.text_area.get_text()
            if current_text != self.demo_state.get(&#x27;text_area_content&#x27;):
                self.demo_state[&#x27;text_area_content&#x27;] = current_text
    
    def on_controller_connected(self, controller):
        print(f&quot;[Controller] Connected: {controller.name}&quot;)
        self.refresh_controller_dropdown()

    def on_controller_disconnected(self, controller):
        print(f&quot;[Controller] Disconnected: {controller.name}&quot;)
        self.refresh_controller_dropdown()
    
    def update(self, dt):
        # Update UI displays
        self.update_ui_displays()
        self.update_controller_display()

        current_count = len(self.engine.controller_manager.get_all_controllers())
        if current_count != self.last_controller_count:
            self.refresh_controller_dropdown()
            self.last_controller_count = current_count
        
        # Update progress bar animation
        if self.demo_state[&#x27;progress_value&#x27;] &lt; 100:
            self.demo_state[&#x27;progress_value&#x27;] += dt * 2
            self.progress_bar.set_value(self.demo_state[&#x27;progress_value&#x27;])
    
    def render(self, renderer):
        renderer.fill_screen(ThemeManager.get_color(&#x27;background&#x27;))
        
        # Header background
        renderer.draw_rect(0, 0, self.engine.width, 90, ThemeManager.get_color(&#x27;background2&#x27;))

def main():
    # Create engine
    engine = LunaEngine(&quot;LunaEngine - UI Demo&quot;, 1024, 768, use_opengl=True, fullscreen=False)
    
    # Configure the max FPS
    engine.fps = 60
    
    # Add and set the main scene
    engine.add_scene(&quot;main&quot;, ComprehensiveUIDemo)
    engine.set_scene(&quot;main&quot;)
    
    # Run the engine
    engine.run()

if __name__ == &quot;__main__&quot;:
    main()</code></pre>
                    </div>
                </div>
            </div>
            <div class="col-lg-4">
                <div class="card shadow-sm sticky-top" style="top: 20px;">
                    <div class="card-header bg-info text-white">
                        <h5 class="mb-0"><i class="bi bi-info-circle me-2"></i>About This Example</h5>
                    </div>
                    <div class="card-body">
                        <p>ui_comprehensive_demo.py - Comprehensive UI Elements Demo for LunaEngine</p>
                        <hr>
                        <div class="d-grid gap-2">
                            <a href="ui_comprehensive_demo.py" download class="btn btn-outline-primary">
                                <i class="bi bi-download me-2"></i>Download Python File
                            </a>
                            <a href="index.html" class="btn btn-outline-secondary">
                                <i class="bi bi-arrow-left me-2"></i>Back to Examples Hub
                            </a>
                            <a href="../quick-start.html" class="btn btn-outline-success">
                                <i class="bi bi-play-circle me-2"></i>Quick Start Guide
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Footer -->
    <footer class="footer-section">
        <div class="container">
            <div class="row">
                <div class="col-md-6">
                    <h5><i class="bi bi-moon-stars-fill me-2"></i>LunaEngine</h5>
                    <p class="text-white-50">2D Game Framework for Python</p>
                </div>
                <div class="col-md-6 text-end">
                    <p class="text-white-50">
                        <i class="bi bi-lightning-charge me-1"></i>
                        Documentation generated on 2026-02-16 14:06
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="theme.js"></script>
    
    <script>
    // Universal search handler
    document.addEventListener('DOMContentLoaded', function() {
        const searchInput = document.getElementById('moduleSearch');
        const searchIcon = document.querySelector('.input-group-text');
        
        if (searchInput && searchIcon) {
            const performSearch = () => {
                const searchTerm = searchInput.value.trim();
                if (searchTerm) {
                    const currentPath = window.location.pathname;
                    let searchPath = 'search.html';
                    
                    // Adjust path based on current location
                    if (currentPath.split('/').filter(Boolean).length > 2) {
                        searchPath = '../search.html';
                    }
                    
                    window.location.href = `${searchPath}?q=${encodeURIComponent(searchTerm)}`;
                }
            };
            
            searchInput.addEventListener('keydown', (e) => {
                if (e.key === 'Enter') {
                    e.preventDefault(); 
                    e.stopPropagation();
                    performSearch();
                    return false;
                }
            });
            
            searchIcon.addEventListener('click', performSearch);
            
            const form = searchInput.closest('form');
            if (form) {
                form.addEventListener('submit', (e) => {
                    e.preventDefault();
                    performSearch();
                    return false;
                });
            }
        }
    });
    </script>
    
    
</body>
</html>